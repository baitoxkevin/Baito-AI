<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>测试添加候选人</title>
</head>
<body>
    <h1>测试添加候选人功能</h1>
    <button onclick="testAdd()">测试添加功能</button>
    <pre id="result"></pre>

    <script>
        async function testAdd() {
            const resultEl = document.getElementById('result');
            
            // 最简单的测试数据 - 只包含必填字段
            const testData = {
                full_name: 'Test User ' + Date.now(),
                phone_number: '0123456789',
                ic_number: '990101141234', // 示例IC号码
                custom_fields: {}
            };
            
            resultEl.textContent = 'Testing with data:\n' + JSON.stringify(testData, null, 2);
            
            try {
                // 需要替换为实际的Supabase URL和密钥
                console.log('请在浏览器控制台查看具体的错误信息');
                resultEl.textContent += '\n\n请打开浏览器控制台（F12）查看详细信息';
            } catch (error) {
                resultEl.textContent += '\n\nError: ' + error.message;
            }
        }
    </script>
    
    <h2>调试步骤：</h2>
    <ol>
        <li>打开浏览器开发者工具（F12）</li>
        <li>转到 Console（控制台）标签</li>
        <li>在应用中点击 "Add New Candidate" 按钮</li>
        <li>只填写必填字段（姓名和电话）</li>
        <li>点击保存，查看控制台输出</li>
    </ol>
    
    <h2>检查清单：</h2>
    <ul>
        <li>✅ 语法错误已修复</li>
        <li>✅ TypeScript类型已更新</li>
        <li>✅ 必填字段验证已添加</li>
        <li>✅ 错误处理已改进</li>
    </ul>
</body>
</html>